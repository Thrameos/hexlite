d(1). d(2).
p(1,2). p(1,3).
p(2,3). p(2,4).
res(X, S) :- S = #sum{ Y : p(X,Y) }, d(X).

q(2,1). q(3,1).
q(3,2). q(4,2).
res2(X, S) :- S = #sum{ Y : q(Y,X) }, d(X).
